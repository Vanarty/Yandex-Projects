# Исследование объявлений о продаже квартир

([Тетрадка с проектом](https://github.com/Vanarty/Yandex-Projects/blob/main/analytics_eda/research_the_sale_of_apartments/research_the_sale_of_apartments.ipynb))

* Автор проекта - *Иванов Артём Юрьевич*
* vanarty@yandex.ru

В нашем распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Ваша задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

## В ходе исследования было выявлено:
1) При исследовании данных сервиса Яндекс Недвижимость — архива объявлений за несколько лет о продаже квартир в Санкт-Петербурге и соседних населённых пунктах была проведена работа заполнению пропусков, которые были обработаны и заполнены ближайшими значениями с использованием методов группировки известных значимых признаков. Основная цель при обработке данных - максимально востановить данные без внесения в них искажений, в связи с чем, некоторое количество пропусков было сохранено.

2) Так же были обработаны аномальные значения по количественным данным. Были отброшены значительные выбросы. Отфильитрованные данные были сохранены в отдельный датафрейм `df_filtered`, для сохранения первоначальных данных. 

3) На этапе 3 были подсчитаны и добавлены в таблицу новые параметры:

* Цена одного квадратного метра;
* День недели публикации объявления;
* Месяц публикации объявления;
* Год публикации объявления;
* Тип этажа квартиры (`первый`, `последний`, `другой`);
* Расстояние до центра города в `км`.

Данные параметры позволили провести более детальный анализ для определения зависимостей и закономерностей.

4.1) На этапе исследовательского анализа данных были выявлены следующие особенности в данных:

* большая часть недвижимости из объявлений имеет `общую площадь` около `40-70 м2`. Недвижимости с `общей площадью` до `25 м2` и выше `150 м2` представлено в данных меньше всего;
* Параметр `жилая площадь` в большей части данных имеет значение от `18` до `60 м2`;
* большая часть недвижимости, представленной в данных, имеет `площадь кухни` от `5` до `20 м2`. Присутствует незначительный пик на значении около `6-7 м2`. Это так же как и в случае с жилой площадью может быть характерным значением для определенных объектов недвижимости;
* Основная часть недвижимости, представленной в данных, имеет `стоимость` примерно от `1 000 000 руб.` до `13 000 000 руб`;
* большая часть недвижимости, представленной в данных, имеют от `1` до `3 комнат`. Объявлений о продаже недвижимости, имеющей `4 комнаты`, около 1.2 тыс. Недвижимости, имеющей от `6 комнат` и выше на порядок меньше;
* начения `высоты потолков` для большей части недвижимости находится в пределах от `2.5 м` до `3.2 м`. Так же на гистограмме отмечается небольшой пик на значении около `3 м`. Такие характерные всплески значений так же могут быть характерны для определнных типов недвижимости или квартир, построенных по определенному проекту (серии);
* большая часть квартир в объявлениях расположены с `1-го` по `9-ый этаж`. Далее, согласно гистограммы, с увеличением `этажа` количество объявлений уменьшается. Больше всего недвижимости в представленных объявлениях расположены на этажах, отличных от первого и последнего (со значением `'другой'`). На `первом этаже` меньше всего объектов недвижимости, находившихся в продаже;
* По параметру `количество этажей в доме` есть несколько неравномерных пиков в значениях. Особенно в значениях `5` и `9`. Это соответствует среднестатистическому количеству этажей в домах, расположенных в России (так назваемых 'пятиэтажках' и 'девятиэтажках'). Остальные пики также могут соответствовать домам, построенным по определенным проектам с определенным количеством этажей, которых больше по сравнению с нестандартными домами;
* Большая часть объектов недвижимости в данных находится на расстоянии от `0` до `17 км` от центра города;
* большая часть объектов недвижимости в данных находится в пределах 38 км от ближайшего аэропорта; 
* большая часть объектов недвижимости, представленных в данных, расположено в пределах `700 м` от `парка`. На гистограмме так же имеется пик на значении в `500 м`. Скорее всего среднестатистически каждый объект для проживания находится рядом с `парком` на расстоянии около `500 м`;
* публикация объявлений согласно гистограммы распределения по `месяцам` имеет волнообразный характер. Объявления реже публиковались в `летний период` и чаще в `зимний`, кроме `декабря` и `января`; 
* стандартная продолжительность публикации для большинства объявлений о продаже недвижимости составляет `91 день`. значения ниже `50 дней` можно считать `быстрыми продажами`. Значения выше `200 дней` можно считать `необычно долгими`.

4.2) Были выявлены следующие факторы (параметры/признаки) больше всего влияющие на общую (полную) стоимость объекта (целевой признак): `общая площадь`, `жилая площадь`, `площадь кухни`, `количество комнат`. Данные факторы имеют прямую линейную взаимосвязь с целевым параметром `стоимост`.

4.3) Была определена средняя цена одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений. Затем были найдены населённые пункты с самой высокой и низкой стоимостью квадратного метра. 

Самая высокая стоимость одного квадратного метра (более 99 000 руб.) наблюдается у населенных пунктов:
* Санкт-Петербург;
* Пушкин;
* Кудрово.

Самая низкая стоимость одного квадратного метра (менее 68 000 руб.) наблюдается у населенных пунктов:
* Выборг;
* Всеволожск;
* Гатчина.

4.4) Одним из главных определяющих факторов в формировании `стоимости одного квадратного метра` (и `стоимости объекта` недвижимости в целом) в г.Санкт-Петербург является `расстояние до центра города`. Чем дальше находится объект недвижимости от центра, тем стоимость ниже. Из особенностей выделяется `два пика` и высокая стоимость в самом центре, где цена выше среднего. Скорее всего это связано с тем, что в черте г.Санкт-Петербург есть районы элитного жилья, стоимость которых выше среднего. Либо в данных районах расположены особенные объекты инфраструкутуры, близость к которым увеличивает стоимость объекта. Так что помимо основного центра существует еще несколько локальных центра. 

## **Рекомендации по результатам исследования:**

* определить причину пропусков в картографических данных, заполняемых автоматической системой;
* для приведения пользовательских данных к общему ввиду, сформировать выпадающие списки с наименованиями населенных пунктов. Таким образом будут исключены не явные дубликаты по колонке `['locality_name']`;
* по параметрам, имеющим булев тип (признак `апартаментов` например) изначально указывать стандартные значения. Например, большая часть объявлений с неккомерческим жильем, поэтому пользователь скоррее всего не будет отвлекаться на данный параметр при заполнении объявления. Таким образом в базу данных автоматичски попадет правильное значение `False` (флаг, обозначающий, что жилье имеет статус не коммерческого).
